<html>
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<style>
	* {
		cursor: url('https://7oakswelcomesrefugees.github.io/CookieCursor/CookieWhole.png'),auto;
	-webkit-animation: cookie_load 1s infinite;
	animation: cookie_load 1s infinite;
}

</style>
<script>
	document.cookieImages=[];
	var cookie_imgs;
// document.getElementsByTagName("div")[0].style.cursor = cursor: `url(${url_head + cookie_imgs[0]}), auto;`
data = $.ajax({
	url:'https://7oakswelcomesrefugees.github.io/CookieCursor/data.txt',
	dataType: 'json',
	async: false,
	success: function(data) {cookie_imgs=data['filenames'];
	frame_n = cookie_imgs.length;
	url_head = "https://7oakswelcomesrefugees.github.io/CookieCursor/";

	var style = document.createElement('style');
	style.type = 'text/css';
	var keyFrames = "@-webkit-keyframes cookie_load { \n "

	for (var i = 0; i < frame_n; i++) {
		document.cookieImages.push(`url(${url_head + cookie_imgs[i]}), auto`)
		time_prop = Math.floor(100/frame_n) * i;
		frame_str = `${time_prop}%{\n
	  	cursor: url(${url_head + cookie_imgs[i]}), auto;\n
	  	} \n `
		keyFrames = keyFrames.concat(frame_str);
	}
	keyFrames = keyFrames.concat(`100%{\n
		  	cursor: url(${url_head + cookie_imgs[0]}), auto;\n
		  	} \n 
	    }`);
	  
	style.innerHTML = keyFrames;
	document.getElementsByTagName('head')[0].appendChild(style);

var style = document.createElement('style');
	style.type = 'text/css';
	var keyFrames = "@keyframes cookie_load { \n "

	for (var i = 0; i < frame_n; i++) {
		time_prop = Math.floor(100/frame_n) * i;
		frame_str = `${time_prop}%{\n
	  	cursor: url(${url_head + cookie_imgs[i]}), auto;\n
	  	} \n `
		keyFrames = keyFrames.concat(frame_str);
	}
	keyFrames = keyFrames.concat(`100%{\n
		  	cursor: url(${url_head + cookie_imgs[0]}), auto;\n
		  	} \n 
	    }`);
	  
	style.innerHTML = keyFrames;
	document.getElementsByTagName('head')[0].appendChild(style);
	}});
console.log(cookie_imgs)

</script>
</head>
<body style="width:100%;height:100%">
<div style="width:100%;height:100%">
</div>

</body>
</html>